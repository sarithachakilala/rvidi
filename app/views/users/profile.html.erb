<% content_for :google_map do %>
  <script type="text/javascript"
  src="https://maps.googleapis.com/maps/api/js?sensor=false&libraries=places"></script>
  <script src="//www.google.com/jsapi" type="text/javascript"></script>
  <%= javascript_include_tag 'google_map/map_related' %>
  <script type="text/javascript">google.load('search', '1');</script>
<% end %>

<% if @user.errors.any? %>
  <div class="alert alert-error">
    <button type="button" class="close" data-dismiss="alert">&times;</button>
    <% for message in @user.errors.full_messages %>
     <%= message %>.
    <% end %>
  </div>
<% end %>

<div class="login_container">
  <div class="span6 margin_bottom_10"> 
    <h2> Edit Profile Page</h2>
  </div>
  <div class="span2 margin_bottom_10 pull-right star_css" style ="margin-top: 27px;"> 
    <h6> * Indicates Required Field</h6>
  </div>
  <div class="row-fluid">
    <%= form_for @user, :html => { :class => "js-validated-form form-horizontal" } do |f| %>
    <%= f.hidden_field :city %>
    <%= f.hidden_field :state %>
    <%= f.hidden_field :country %>

    <div class="row-fluid">

      <div class="span12">
        <div class="span5">
          <div class="control-group">
            <label class="control-label styling_for_text_fields" for="inputEmail">Email<span class="star_css">*</span></label>
            <div class="controls">
              <%= f.text_field :email, :placeholder => "Email" %>
            </div>
          </div>

          <div class="control-group">
            <label class="control-label styling_for_text_fields" for="inputstate">First Name<span class="star_css">*</span></label>
            <div class="controls">
              <%= f.text_field :first_name, :placeholder => "First Name" %>
            </div>
          </div>

          <div class="control-group">
            <label class="control-label styling_for_text_fields" for="inputcity">Location</label>
            <div class="controls">
              <%= text_field_tag 'location_name', '', :id => 'jQueryCityAutocomplete' %>
            </div>
          </div>

          <!-- <div class="control-group">
            <label class="control-label styling_for_text_fields" for="inputcountry">Country</label>
            <div class="controls">
              <%= f.text_field :country, :placeholder => "Country" %>
            </div>
          </div> -->

          <div class="control-group">
            <label class="control-label styling_for_text_fields" for="inputstate">Upload Picture</label>
            <div class="controls">
              <% if @user.image_url.present? %>
              <div class="jane_image"> <%= image_tag @user.image_url, :class => "jane_image"  %> </div>
              <div class="cl-10"></div>
              <!-- <div style="text-align:center;">or</div> -->
              <% end %>
              <label class="label-upload-image" for="prfileImg" ><div class='btn btn-primary-disable'>Upload Picture</div></label>
              <div style="position:absolute;left:-999px;">
                <%= f.file_field :image, :id => "prfileImg"  %>
              </div>
            </div>
          </div>

        </div>

        <div class="span6"> 
          <div class="control-group">
            <label class="control-label styling_for_text_fields" for="inputusername" >User Name<span class="star_css">*</span></label>
            <div class="controls">
              <%= f.text_field :username, :placeholder => "User Name" %>
            </div>
          </div>

          <div class="control-group">
            <label class="control-label styling_for_text_fields" for="inputdescription" >Last Name<span class="star_css">*</span></label>
            <div class="controls">
              <%= f.text_field :last_name, :placeholder => "Last Name" %>
            </div>
          </div>

          <!-- <div class="control-group">
            <label class="control-label styling_for_text_fields" for="inputstate">State</label>
            <div class="controls">
              <%= f.text_field :state, :placeholder => "State" %>
            </div>
          </div> -->

          <div class="control-group">
            <label class="control-label styling_for_text_fields" for="inputdescription">Description</label>
            <div class="controls">
              <%= f.text_area :description, :rows => 6 , :placeholder => "write few words about yourself"%>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


<% comment do %>
  <%= f.fields_for @profile_video do |profile_video| %>
    <div id="collapseTwo" class="accordion-body collapse in">
    <div class="accordion-inner">

    <div class="border-bottom-black margin-bottom-20"></div>

    <!-- Display the recording options (Capture from Webcam or Upload Video file) -->
    <div class="row-fluid margin-bottom-50">
      <div class="span4 text_align_center cursor-pointer" id="camera-me">
        <i class="sprite-camera-big"></i>
        <div class="font_weight_bold">
          Click here to record a video clip
        </div>
        <div> (15 seconds or less)</div>
      </div>
      <div class="span4 text_align_center">
        <i class="sprite-or-icon_black"></i>
      </div>
      <div class="span4 text_align_center video-player-text" style="cursor:pointer;">
        <div class="font_weight_bold">
          Upload clip from your computer
        </div><br />
        <!-- <a class="btn btn-info " href="#">Choose</a> -->
        <%= profile_video.hidden_field :user_id, :value => current_user.id, :class => "show-cameo-user-id" %>
        <%= hidden_field_tag 'profile[cameos_attributes][0][audio_file]', '', :class => "recorded-audio-input cameo-recorded-audio-file" %>
        <%= hidden_field_tag 'profile[cameos_attributes][0][recorded_file]', '', :class => "recorded-video-input cameo-recorded-video-file" %>
        <%= profile_video.file_field :video_file, :id => "fileToUpload",
          :class => "show-cameo-video-file" %>
        <%= hidden_field_tag 'tstamp', @tstamp %>
      </div>
    </div>

    <!-- Video Recorder -->

    <div id="div_record_video_holder" class="black-box hide" style="width:400px; margin:0px auto;">
      <iframe src="<%= video_player_path(:type => 'RECORD') %>" frameborder="0" scrolling="no" name="iframe-video-container" class="iframe-video-container"></iframe>
    </div>
  </div>
</div>

    <% content_for :js_with_script_tags do %>
      <script type="text/javascript">
        $(document).on('click', '#camera-me', function(event) {
          
          // Show the SWF Recorder
          $('#div_record_video_holder').toggle();
          $(this).closest('form').attr('action', '<%= j video_player_path(:type => 'RECORD') %>');
          $(this).closest('form').removeClass('js-validated-form');
          $(this).closest('form').submit();
          //return event.preventDefault();
        });

        $(document).on('change', '#fileToUpload', function(e) {
          e.preventDefault();
          var status = check_file();
          if(status) {
            $('#div_record_video_holder').show();
            $(this).closest('form').attr('action', '<%= j validate_video_path %>');
            $(this).closest('form').removeClass('js-validated-form');
            $(this).closest('form').submit();
          }

        });

        $(document).on('click', '.video-player-text', function(){
          $('#div_record_video_holder').toggle();
          $(this).closest('form').attr('action', '<%= j video_player_path %>');
          $(this).closest('form').removeClass('js-validated-form');
          $(this).closest('form').submit();
        });
      </script>
    <% end %>
  <% end %>
<% end %>
</div>

<div class="row-fluid"> 
  <div class="span12"> 
    <div class="hr_bg_welcome"> 
      <div class="text_align_center login_and_account"> 
        <%= f.submit "Save Changes", :class => "btn btn-warning" , :class=>"btn btn-warning ", :style => "margin-top:8px;" %>
      </div>
    </div>
  </div>
</div>
<div id="map-container" style="width:50px; height: 50px; display: none !important;"></div>

  <% content_for :js_with_script_tags do %>
    <script type="text/javascript">
      jQuery(document).ready(function(){
        Google_Map.init(39.9332968,-105.1332093);
        Google_Map.location_autocomplete("jQueryCityAutocomplete");
      });
    </script>
  <% end %> 

<% end %> 
